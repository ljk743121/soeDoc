---
title: 权限管理
icon: lock
category: 
 - 管理员指南
---

# 权限管理

Voice of SZSY 系统采用细粒度的权限管理机制，确保不同用户角色拥有合适的操作权限。

## 用户角色

系统中存在以下几种主要用户角色：

### 普通用户 (login)

- 可以浏览歌曲
- 可以投稿歌曲
- 可以查看自己的投稿历史
- 可以在线试听歌曲

### 管理员 (admin,...)

- 拥有普通用户的所有权限
- 可以查看系统状态和信息
- 可以审核用户投稿的歌曲
- 可以通过或拒绝歌曲投稿
- 可以管理所有用户
- 可以管理开放时间
- 可以管理屏蔽词
- 可以发布通知
- 可以进行智能排歌

## 权限设置

管理员可以通过以下步骤设置用户权限：

1. 登录系统后台
2. 进入"用户管理"页面
3. 选择要修改权限的用户
4. 点击"编辑权限"按钮
5. 在弹出的对话框中设置各项权限
6. 点击"保存"按钮

## 权限等级

系统权限分为以下几种：

### login（登录）
用户登录系统的基础权限，拥有此权限的用户可以访问系统的基础功能。

### admin（管理）
系统管理员权限，拥有此权限的用户可以访问系统的所有管理功能。

### arrange（排歌）
可以进行歌曲排列的权限，拥有此权限的用户可以调整歌曲播放顺序。

### manageUser（管理用户）
可以管理用户信息的权限，拥有此权限的用户可以查看和修改用户资料。

### review（审核歌曲）
可以审核用户投稿歌曲的权限，拥有此权限的用户可以决定歌曲是否通过审核。

### time（开放时间）
可以管理系统开放时间的权限，拥有此权限的用户可以设置系统的使用时间段。

### blockWords（屏蔽词）
可以管理系统屏蔽词的权限，拥有此权限的用户可以添加、删除和修改屏蔽词。

### announcement（公告管理）
可以发布和管理系统公告的权限，拥有此权限的用户可以创建、编辑和删除公告。

### robot（机器人）
可以管理系统机器人的权限，拥有此权限的用户可以配置和控制机器人功能。

### deleteUser（删除用户）
可以删除系统用户的权限，拥有此权限的用户可以移除系统中的用户账户。

### editPermissions（编辑权限）
可以编辑用户权限的权限，拥有此权限的用户可以修改其他用户的权限设置。

### resetPassword（重置密码）
可以重置用户密码的权限，拥有此权限的用户可以帮助用户重置登录密码。

### deleteSong（删除歌曲）
可以删除系统歌曲的权限，拥有此权限的用户可以移除系统中的歌曲资源。

### deleteArrangement（删除排歌）
可以删除排歌计划的权限，拥有此权限的用户可以取消已有的歌曲排列。

## 创建管理员账户

首次安装系统后，需要手动创建管理员账户：

1. 首先创建一个普通用户
2. 运行以下命令：

```bash
pnpm run user:admin
```

3. 输入用户ID，将授予该用户管理员权限

## 权限示例

| 操作 | 普通用户 | 管理员 |
| --- | --- | --- |
| 浏览歌曲 | ✓ | ✓ |
| 投稿歌曲 | ✓ | ✓ |
| 审核歌曲 | ✗ | ✓ |
| 管理用户 | ✗ | ✓ |
| 排歌 | ✗ | ✓ |
| 管理开放时间 | ✗ | ✓ |
| 管理屏蔽词 | ✗ | ✓ |
| 公告管理 | ✗ | ✓ |
| 机器人管理 | ✗ | ✓ |
| 删除用户 | ✗ | ✓ |
| 编辑权限 | ✗ | ✓ |
| 重置密码 | ✗ | ✓ |
| 删除歌曲 | ✗ | ✓ |
| 删除排歌 | ✗ | ✓ |
| 设置系统参数 | ✗ | ✓ |